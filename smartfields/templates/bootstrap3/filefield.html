{% extends 'bootstrap3/field.html' %}

{% load crispy_forms_filters %}

{% block field %}
  <div class="input-group">
    <span class="input-group-btn">
      <span class="btn btn-primary btn-file" title="Browse">
	<input class="smartfields-btn-browse" id="{{ field.auto_id }}" name="{{ field.name }}" type="file" {{ field.field.widget.attrs|flatatt }} data-csrf-token="{{ csrf_token }}">
	Browse
      </span>
    </span>
    {% if not field.field.required %}
      <span class="input-group-btn" title="Delete">
	<button id="{{ field.auto_id }}_delete" type="button" class="btn"><span class="glyphicon glyphicon-trash"></span></button>
      </span>
    {% endif %}
    <span class="input-group-btn" title="Upload">
      <button id="{{ field.auto_id }}_upload" type="button" class="btn"><span class="glyphicon glyphicon-upload"></span></button>
    </span>
    <input id="{{ field.auto_id }}_current" class="form-control" type="text" readonly="" value="{{ field.value }}">
    <span class="input-group-btn" title="Download">
      <button id="{{ field.auto_id }}_link" type="button" class="btn" data-href="{% if field.value %}{{ field.value.url }}{% endif %}" data-target="_blank"><span class="glyphicon glyphicon-download-alt"></span></a>
    </span>
  </div>
  <div class="progress">
    <div id="{{ field.auto_id }}_progressbar_upload" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
      <span class="sr-only">0% Complete</span>
    </div>
  </div>
{% endblock %}
